<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登入系統</title>
</head>
<body>
    <h2>使用者登入</h2>

    <label>帳號:</label>
    <input type="text" id="username" required>
    <br>

    <label>密碼:</label>
    <input type="password" id="password" required>
    <br><br>

    <button id="loginBtn">登入</button>

    <p>沒有帳號? <a href="/page_register">註冊</a></p>

<script>
document.getElementById("loginBtn").onclick = async () => {
    let username = document.getElementById("username").value;
    let password = document.getElementById("password").value;

    const res = await fetch("/page_login", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ username, password })
    });

    const data = await res.json();
    alert(data.message);

    if (data.status === "success") {
        window.location.href = "/";
    }
}
</script>

</body>
</html>
